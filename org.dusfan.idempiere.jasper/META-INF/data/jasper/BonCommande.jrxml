<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.5.0.final using JasperReports Library version 6.5.0  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="invoiceStandard" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="d2b42497-cec7-4097-ad33-9660c0b89175">
	<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.FreeLayout"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="numidia-192.168.0.96.xml"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="289"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="702"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<style name="Table_CH" mode="Opaque" backcolor="#E6FFE6">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TH" mode="Opaque" backcolor="#DC143C">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="InvoiceLines" uuid="21fe6e27-8810-4492-b3f1-1c51686db9f0">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="numidia-192.168.0.96.xml"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="C_Invoice_ID" class="java.lang.Integer"/>
		<parameter name="ISINCLUDE" class="java.lang.String"/>
		<queryString language="SQL">
			<![CDATA[select il.qtyinvoiced, il.priceactual, il.linenetamt, il.DateFrom, il.DateTo, il.LeadPassenger, sert.name, 
case (ser.Board) 
	when 'RO' then 'Sans petit déjeuner'
	when 'BB' then 'Avec petit déjeuner'
	when 'HB' then 'En Demi pension'
	when 'FB' then 'En Pension Complète'
	end as board, ser.view
from c_invoiceline il
inner join c_invoice i on i.c_invoice_id = il.c_invoice_id
inner join du_service ser on ser.du_service_id = il.du_service_id
LEFT OUTER JOIN DU_ServiceType SERT on sert.du_serviceType_id = ser.du_serviceType_id
where il.c_invoice_id = $P{C_Invoice_ID}]]>
		</queryString>
		<field name="qtyinvoiced" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="qtyinvoiced"/>
		</field>
		<field name="priceactual" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="priceactual"/>
		</field>
		<field name="linenetamt" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="linenetamt"/>
		</field>
		<field name="datefrom" class="java.sql.Timestamp">
			<property name="com.jaspersoft.studio.field.label" value="datefrom"/>
		</field>
		<field name="dateto" class="java.sql.Timestamp">
			<property name="com.jaspersoft.studio.field.label" value="dateto"/>
		</field>
		<field name="leadpassenger" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="leadpassenger"/>
		</field>
		<field name="name" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="name"/>
		</field>
		<field name="board" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="board"/>
		</field>
		<field name="view" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="view"/>
		</field>
	</subDataset>
	<parameter name="RECORD_ID" class="java.lang.Integer"/>
	<parameter name="RESOURCE_DIR" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA["./"]]></defaultValueExpression>
	</parameter>
	<parameter name="BASE_PATH" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["./"]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["./"]]></defaultValueExpression>
	</parameter>
	<parameter name="ISINCLUDE" class="java.lang.Integer" isForPrompting="false"/>
	<queryString language="SQL">
		<![CDATA[SELECT I.Documentno,
  I.Dateinvoiced,
  b.name  AS bpname,
   b.name2  AS bpname2,
  b.value AS bpvalue,
  Loc.Address1,
  Loc.Postal,
  loc.city,
  C.Name AS country,
  I.Totallines,
  I.Grandtotal,
  COALESCE(It.Taxamt, 0) AS taxamt,
  COALESCE(T.Rate, 0)    AS taxrate,
  T.Name                 AS taxname,
  org.ad_org_id,
  i.ad_client_id,
  i.poreference,
  i.isinclude
FROM c_invoice i
INNER JOIN c_bpartner b
ON ( b.c_bpartner_id = i.c_bpartner_id)
INNER JOIN C_Bpartner_Location bploc
ON Bploc.C_Bpartner_Location_Id = I.C_Bpartner_Location_Id
INNER JOIN C_Location loc
ON Bploc.C_Location_Id = Loc.C_Location_Id
INNER JOIN c_country c
ON (c.c_country_id = loc.c_country_id)
LEFT OUTER JOIN C_Invoicetax it
ON It.C_Invoice_Id = I.C_Invoice_Id
LEFT OUTER JOIN c_tax t
ON ( t.c_tax_id = it.c_tax_id)
INNER JOIN Ad_Orginfo orginfo
ON Orginfo.Ad_Org_Id = I.Ad_Org_Id
INNER JOIN C_Location orgloc
ON Orgloc.C_Location_Id = Orginfo.C_Location_Id
INNER JOIN ad_org org
ON Org.Ad_Org_Id = i.ad_org_id
WHERE I.C_INVOICE_ID = $P{RECORD_ID}]]>
	</queryString>
	<field name="documentno" class="java.lang.String"/>
	<field name="dateinvoiced" class="java.sql.Timestamp"/>
	<field name="bpname" class="java.lang.String"/>
	<field name="bpvalue" class="java.lang.String"/>
	<field name="address1" class="java.lang.String"/>
	<field name="postal" class="java.lang.String"/>
	<field name="city" class="java.lang.String"/>
	<field name="country" class="java.lang.String"/>
	<field name="totallines" class="java.math.BigDecimal"/>
	<field name="grandtotal" class="java.math.BigDecimal"/>
	<field name="taxamt" class="java.math.BigDecimal"/>
	<field name="taxrate" class="java.math.BigDecimal"/>
	<field name="taxname" class="java.lang.String"/>
	<field name="poreference" class="java.lang.String"/>
	<field name="ad_org_id" class="java.lang.Integer"/>
	<field name="bpname2" class="java.lang.String"/>
	<field name="ad_client_id" class="java.lang.Integer"/>
	<field name="isinclude" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="33" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="0" width="555" height="28" uuid="9a1dc3fe-9872-4d38-9de1-d7302bbd5ee9"/>
				<subreportParameter name="AD_ORG_ID">
					<subreportParameterExpression><![CDATA[$F{ad_org_id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_CLIENT_ID">
					<subreportParameterExpression><![CDATA[$F{ad_client_id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="RESOURCE_DIR">
					<subreportParameterExpression><![CDATA[$P{RESOURCE_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{RESOURCE_DIR}+"CompanyHeader.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</title>
	<pageHeader>
		<band height="108" splitType="Stretch">
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="false">
				<reportElement key="textField" x="499" y="84" width="36" height="11" forecolor="#000000" backcolor="#FFFFFF" uuid="dd37276a-ffb2-4cb3-8a41-2383de0ce46e"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="DejaVu Sans" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["" + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="" x="1" y="51" width="214" height="16" uuid="aef9acfd-ca85-4fc8-8809-697381300e30"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="12" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Details Fournisseur:]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="67" width="304" height="15" uuid="9dfb8047-5656-40dc-8ad1-31562462cde3">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{bpname}+", "+$F{address1}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField" x="440" y="84" width="55" height="11" uuid="a4f6aa8f-5cb4-4f67-8349-8ac2a701cfec"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER} + " de "]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement key="textField-2" x="89" y="29" width="361" height="15" forecolor="#000000" uuid="03a406a8-7e5b-43be-bc95-6db9c24c4bb8"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="11" isBold="true" isItalic="false" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA["Date de commande : " + new SimpleDateFormat("dd/MM/yyyy").format(new Date())]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField-1" x="89" y="3" width="361" height="24" forecolor="#000000" uuid="6d140570-27b7-46a0-b057-09c38efc1e8e"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="18" isBold="true" isItalic="false" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA["Bon de Commande N° :  " + $F{poreference}]]></textFieldExpression>
			</textField>
			<componentElement>
				<reportElement x="450" y="0" width="104" height="44" uuid="a29830a4-0fa5-476f-9cf8-ef973c0e4286"/>
				<jr:QRCode xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<jr:codeExpression><![CDATA[$P{RECORD_ID}]]></jr:codeExpression>
				</jr:QRCode>
			</componentElement>
		</band>
	</pageHeader>
	<detail>
		<band height="165" splitType="Stretch">
			<componentElement>
				<reportElement x="0" y="0" width="550" height="160" uuid="18b56f9a-e66c-4513-8b46-e6c24c18117b">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="net.sf.jasperreports.export.headertoolbar.table.name" value=""/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="InvoiceLines" uuid="a561bc41-39d2-45ec-891c-c949fbbaba68">
						<datasetParameter name="C_Invoice_ID">
							<datasetParameterExpression><![CDATA[$P{RECORD_ID}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="ISINCLUDE">
							<datasetParameterExpression><![CDATA[$F{isinclude}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="60" uuid="a1f26007-e3f6-4c66-87f4-cac40e53a69d">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
						<jr:tableHeader style="Table_TH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="60" height="30" uuid="b034b0bf-4495-4ed4-adb7-856940f75c76"/>
								<box leftPadding="1"/>
								<textElement verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Qty]]></text>
							</staticText>
						</jr:tableHeader>
						<jr:detailCell style="Table_TD" height="130">
							<textField>
								<reportElement x="0" y="0" width="60" height="130" uuid="2f6354c7-6f2b-496f-848b-91fef060f7e7"/>
								<box leftPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font size="14"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{qtyinvoiced}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="370" uuid="a64364fe-83ad-46aa-b11a-7b97be73722b">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
						<jr:tableHeader style="Table_TH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="370" height="30" uuid="e17ae5a3-2d6b-44f3-8855-590b6f0b7f33"/>
								<box leftPadding="1"/>
								<textElement verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Désignation]]></text>
							</staticText>
						</jr:tableHeader>
						<jr:detailCell style="Table_TD" height="130">
							<textField>
								<reportElement x="0" y="0" width="370" height="130" uuid="6dbad567-c9e9-49c5-8a69-500a92375c6b"/>
								<textElement verticalAlignment="Middle">
									<font size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{name} + " " + ($F{board}!=null  ? $F{board} : "")+ "\n "+
 "\n "+
"Du "+ new SimpleDateFormat("dd/MM/yyyy").format($F{datefrom})+" au "+ new SimpleDateFormat("dd/MM/yyyy").format($F{dateto})+ "\n "+
 "\n "+
 "Au nom de : "+ ($F{leadpassenger}!=null  ? $F{leadpassenger} : "")+ "\n "+
 "\n "+"Taxe de séjour : "+($P{ISINCLUDE}.contentEquals( "Y" ) ? "incluse" : "non incluse")]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="60" uuid="57529e47-be4f-40ad-a9ec-1b2f571e2362">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
						<jr:tableHeader style="Table_TH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="60" height="30" uuid="8526f856-b31e-4684-95ba-8c254e80b567"/>
								<box leftPadding="1"/>
								<textElement verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Prix Unitaire]]></text>
							</staticText>
						</jr:tableHeader>
						<jr:detailCell style="Table_TD" height="130">
							<textField>
								<reportElement x="0" y="0" width="60" height="130" uuid="31b171b2-0f09-4a57-843a-b78d6324f656"/>
								<box rightPadding="1"/>
								<textElement textAlignment="Right" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{priceactual}.setScale(2)]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="60" uuid="7c340614-1d07-4096-a412-45f243a925df">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column4"/>
						<jr:tableHeader style="Table_TH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="60" height="30" uuid="474814ec-4afd-494e-ace9-8a9b6e4a625f"/>
								<box leftPadding="1"/>
								<textElement verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Prix]]></text>
							</staticText>
						</jr:tableHeader>
						<jr:detailCell style="Table_TD" height="130">
							<textField>
								<reportElement x="0" y="0" width="60" height="130" uuid="f05a3d63-e3a2-4294-a07b-8f660298646d"/>
								<box rightPadding="1"/>
								<textElement textAlignment="Right" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{linenetamt}.setScale(2)]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
	<pageFooter>
		<band height="106">
			<staticText>
				<reportElement key="" x="341" y="2" width="214" height="16" uuid="1200afd4-74e6-4e58-95ff-50bd72578307"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="12" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[P/Le chef d'agence]]></text>
			</staticText>
		</band>
	</pageFooter>
</jasperReport>
